(window.webpackJsonpinfinity_scroll=window.webpackJsonpinfinity_scroll||[]).push([[0],{27:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),i=n.n(r),o=n(4),l=n.n(o),u=n(20),s=n(2),f=n(5),b=n(21),d=n.n(b).a.create({baseURL:"https://yts.lt/api/v2"}),v={getMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d.get("/list_movies.json",{params:{page:e,limit:20}})}},p=n(3),O=n(22),m=n.n(O);function j(){var e=Object(f.a)(["\n  position: sticky;\n  top: 0;\n  left: 0;\n  background-color: black;\n  color: white;\n  padding: 1rem;\n"]);return j=function(){return e},e}function w(){var e=Object(f.a)(["\n  ","\n  @import url('https://fonts.googleapis.com/css?family=Do+Hyeon&display=swap&subset=korean');\n  font-family: 'Do Hyeon', sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n"]);return w=function(){return e},e}var g=Object(p.createGlobalStyle)(w(),m.a),E=p.default.header(j()),h=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],r=n[1];return[c,Object(a.useCallback)((function(e){null!==e&&r(e.getBoundingClientRect())}),[e])]},y=function(){var e=Object(a.useState)(window.scrollY+window.innerHeight),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){c(window.scrollY+window.innerHeight)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),n};var S=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),f=o[0],b=o[1],d=Object(a.useState)(1),p=Object(s.a)(d,2),O=p[0],m=p[1],j=Object(a.useState)(!0),w=Object(s.a)(j,2),S=w[0],k=w[1],x=Object(a.useState)(null),H=Object(s.a)(x,2),L=H[0],C=H[1],D=Object(a.useState)(window.innerHeight),F=Object(s.a)(D,2),B=F[0],M=F[1],N=Object(a.useState)(null),R=Object(s.a)(N,2),U=R[0],Y=R[1],_=h(S),z=Object(s.a)(_,2),I=z[0],J=z[1],G=y(),P=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getMovies(t);case 3:n=e.sent,a=n.data.data.movies,b(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C("Error: Can't get movie datas");case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){P(O)}),[O]),Object(a.useEffect)((function(){null!==f&&r(n.concat(f))}),[f]),Object(a.useEffect)((function(){var e=function(){M(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize">e)}}),[]),Object(a.useEffect)((function(){S||null===I||S||U&&(m(O+1),console.log("movieDataPageNum:",O))}),[U,I]),Object(a.useEffect)((function(){null===I||S||(Y(I.height<=B),console.log(U))}),[B,I]),Object(a.useEffect)((function(){null!==I&&G>=I.height&&!S&&(m(O+1),console.log(G))}),[G]),c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{ref:J},c.a.createElement(E,null,null!==I&&c.a.createElement("div",null,"\ucee8\ud150\uce20\uc758 \uae38\uc774\ub294 ".concat(I.height,"px")),c.a.createElement("div",null,"OffsetY: ".concat(G,"px")),null!==B&&c.a.createElement("div",null,"window.innerHeight: ".concat(B,"px")),c.a.createElement("div",null,"Data Fetching: ".concat(S?"Fetching....":"No"))),L?c.a.createElement("span",null,L):c.a.createElement("div",null,n.map((function(e,t){return c.a.createElement("div",{key:t},e.title)})))))};i.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.52ffc012.chunk.js.map